<div class="card bg-dark text-white">

    <div class="card-header" *ngIf="!user.id else edit">Crear usuario</div>
    <ng-template #edit>
      <div class="card-header">Editar usuario</div>
    </ng-template>
    <div class="card-body">
  
      <form #userForm="ngForm">
        <br>
        <div class="form-group row">
          <label for="username" class="col-form-label col-sm-2">Usuario</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" [(ngModel)]="user.username" name="username" required minlength="4" maxlength="12" #username="ngModel">
              <div class="alert alert-danger" *ngIf="username.invalid && (username.dirty || username.touched)">
                <div *ngIf="username.errors.required">Debes de escoger un nombre de usuario</div>
                <div *ngIf="username.errors.minlength">El nombre de usuario ha de tener mínimo 4 caracteres</div>
                <div *ngIf="username.errors.maxlength">El nombre de usuario ha de tener máximo 12 caracteres</div>
              </div>
          </div>
        </div>

        <br>
        <div class="form-group row">
            <label for="password" class="col-form-label col-sm-2">Contraseña</label>
            <div class="col-sm-6">
              <input type="password" class="form-control" [(ngModel)]="user.password" name="password">
            </div>
        </div>
  
        <br>
        <div class="form-group row">
            <label for="name" class="col-form-label col-sm-2">Nombre</label>
            <div class="col-sm-6">
              <input type="text" class="form-control" [(ngModel)]="user.name" name="name">
          </div>
        </div>

        <br>
        <div class="form-group row">
          <label for="last_name" class="col-form-label col-sm-2">Apellido</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" [(ngModel)]="user.lastName" name="lastName">
          </div>
        </div>
  
        <br>
        <div class="form-group row">
          <label for="email" class="col-form-label col-sm-2">Email</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" [(ngModel)]="user.email" required name="email" #email="ngModel">
            <div class="alert alert-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
              <div *ngIf="email.errors.required">El email es un campo obligatorio</div>
            </div>
          </div>
        </div>

        <br>
        <div class="form-group row">
          <label for="nickname" class="col-form-label col-sm-2">Nickname</label>
          <div class="col-sm-6">
            <input type="text" class="form-control" [(ngModel)]="user.trainer.nickname" name="nickname">
          </div>
        </div>
  
        <div class="form-group row">
          <div class="col-sm-6">
            <br>
            <button class="btn btn-primary" role="button" (click)='create()' *ngIf="!user.id else elseBlock" [disabled]=!userForm.form.valid>Crear</button>

            <ng-template #elseBlock>
              <button class="btn btn-primary" role="button" (click)='update()' [disabled]=!userForm.form.valid>Editar</button>
            </ng-template>
          </div>
        </div>
      </form>
  
    </div>
  </div>